<div>
  <form [formGroup]="formulario" (ngSubmit)="salvar()" class="form">
    <div class="container-salvar">
      <button
        mat-raised-button
        color="primary"
        type="submit"
        [disabled]="formulario.invalid"
      >
        Salvar
      </button>
      <button mat-raised-button color="primary" (click)="listar()">
        Listar
      </button>
      <button mat-raised-button color="primary" (click)="editar()">
        Editar
      </button>
      <button mat-raised-button color="primary" (click)="excluir()">
        Excluir
      </button>
    </div>
    <mat-card>
      <mat-card-header>
        <mat-card-title>Dados do Imóvel</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <div class="container-form-field">
          <mat-form-field appearance="outline" class="form-field">
            <mat-label>ID</mat-label>
            <input matInput formControlName="id" required />
          </mat-form-field>

          <mat-form-field appearance="outline" class="form-field">
            <mat-label>Nome</mat-label>
            <input matInput formControlName="nome" required />
            <mat-error
              *ngIf="
                formulario.get('nome')?.invalid &&
                formulario.get('nome')?.touched
              "
            >
              O nome é obrigatório.
            </mat-error>
          </mat-form-field>

          <mat-form-field appearance="outline" class="form-field">
            <mat-label>Tipo</mat-label>
            <mat-select formControlName="tipo" required multiple>
              <mat-option *ngFor="let tipo of tipos" [value]="tipo">{{
                tipo
              }}</mat-option>
            </mat-select>
            <mat-error
              *ngIf="
                formulario.get('tipo')?.invalid &&
                formulario.get('tipo')?.touched
              "
            >
              Selecione um tipo válido.
            </mat-error>
          </mat-form-field>

          <mat-form-field appearance="outline" class="form-field">
            <mat-label>Valor</mat-label>
            <input matInput formControlName="valor" required mask="'R$ 9.99'" />
            <mat-error
              *ngIf="
                formulario.get('valor')?.invalid &&
                formulario.get('valor')?.touched
              "
            >
              O valor é obrigatório.
            </mat-error>
          </mat-form-field>

          <div formGroupName="endereco" class="form-row">
            <div class="form-column">
              <mat-form-field appearance="outline" class="form-field">
                <mat-label>Logradouro</mat-label>
                <input matInput formControlName="logradouro"  />
              </mat-form-field>
          
              <mat-form-field appearance="outline" class="form-field">
                <mat-label>Bairro</mat-label>
                <input matInput formControlName="bairro"  />
              </mat-form-field>
          
              <mat-form-field appearance="outline" class="form-field">
                <mat-label>Localidade</mat-label>
                <input matInput formControlName="localidade"  />
              </mat-form-field>
          
              <mat-form-field appearance="outline" class="form-field">
                <mat-label>UF</mat-label>
                <input matInput formControlName="uf"  />
              </mat-form-field>
            </div>
          
            <div class="form-column">
              <mat-form-field appearance="outline" class="form-field">
                <mat-label>Número</mat-label>
                <input matInput formControlName="numero" required />
                <mat-error>O número é obrigatório</mat-error>
              </mat-form-field>
          
              <mat-form-field appearance="outline" class="form-field">
                <mat-label>CEP</mat-label>
                <input matInput formControlName="cep" required />
                <mat-error>O CEP é obrigatório</mat-error>
              </mat-form-field>
            </div>
          </div>
          
        </div>
      </mat-card-content>
    </mat-card>

    <mat-card class="card">
      <mat-card-header>
        <mat-card-title>Detalhes do Imóvel</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <div class="container-form-field">
          <mat-form-field appearance="outline" class="form-field">
            <mat-label>Condomínio</mat-label>
            <input matInput formControlName="condominio" />
          </mat-form-field>

          <mat-form-field appearance="outline" class="form-field">
            <mat-label>Quartos</mat-label>
            <input matInput formControlName="quartos" type="number" />
          </mat-form-field>

          <mat-form-field appearance="outline" class="form-field">
            <mat-label>Banheiros</mat-label>
            <input matInput formControlName="banheiros" type="number" />
          </mat-form-field>
        </div>
      </mat-card-content>
    </mat-card>

    <mat-card class="card">
      <mat-card-header>
        <mat-card-title>Outras Informações</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <div class="container-form-field">
          <mat-form-field appearance="outline" class="form-field">
            <mat-label>Área</mat-label>
            <input matInput formControlName="area" type="number" />
          </mat-form-field>

          <div class="checkbox-group">
            <mat-checkbox formControlName="venda">Venda</mat-checkbox>

            <mat-checkbox formControlName="aluguel">Aluguel</mat-checkbox>

            <mat-checkbox formControlName="mobiliado">Mobiliado</mat-checkbox>
          </div>

          <mat-form-field appearance="outline" class="form-field">
            <mat-label>Data de Anúncio</mat-label>
            <input
              matInput
              formControlName="dataAnuncio"
              [matDatepicker]="picker"
            />
            <mat-datepicker-toggle
              matSuffix
              [for]="picker"
            ></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
          </mat-form-field>

          <mat-form-field appearance="outline" class="form-field">
            <mat-label>Proprietário ID</mat-label>
            <input matInput formControlName="proprietarioId" type="number" />
          </mat-form-field>
        </div>
      </mat-card-content>
    </mat-card>
  </form>
</div>
